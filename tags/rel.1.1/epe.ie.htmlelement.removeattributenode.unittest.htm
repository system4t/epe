<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns = "http://www.w3.org/1999/xhtml" onlayoutcomplete="layout();">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=ISO-8859-1" />
    <meta name="generator" content="PSPad editor, www.pspad.com">
    <title>EPE.IE.HTMLElement.removeAttribute.UnitTest</title>
    <script type="text/javascript" src="epe.ie.htmlelement.js"></script>
    <script type="text/javascript" src="epe.ie.htmlelement.hasattribute.js"></script>
    <script type="text/javascript" src="epe.ie.htmlelement.removeattribute.js"></script>
    <script type="text/javascript" src="epe.ie.htmlelement.removeattributenode.js"></script>
    <script type="text/javascript">
    
      function test() {
        alert('test function');
      }
      
      // Override IE native removeAttribute
     
      function load() {
        // Test on existing element
        var elm = document.getElementById('div');
        // Should be true
        alert(elm.hasAttribute('onclick'));
        alert(elm.attributes['onclick'].nodeName);
        elm.removeAttributeNode(elm.attributes['onclick']);
        // Should be false
        alert(elm.hasAttribute('onclick'));
      }
   
    </script>
  </head>
  <body onload="load();">
    <div id="div" style="border: 1px solid red; padding: 2px;" onclick="test();">Hello</div>
    <script type="text/javascript">
      if (window.EPE) {
        EPE.__R1 = document.documentElement.childNodes[1].onload;
        document.documentElement.childNodes[1].onload = EPE.init;
      }
    </script>
  </body>
</html>
